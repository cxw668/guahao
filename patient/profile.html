<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人档案 - XX医院在线预约挂号系统</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- 顶部导航 -->
    <div class="header">
        <div class="logo">
            <i style="font-style: normal;">🏥</i> XX医院在线预约挂号系统
        </div>
        <div class="flex-center">
            <span class="mr-20">您好，张三</span>
            <span class="mr-20" style="cursor: pointer;">🔔 消息(2)</span>
            <button class="btn btn-default btn-sm" onclick="logout()">退出登录</button>
        </div>
    </div>

    <!-- 左侧侧边栏 -->
    <div class="sidebar">
        <div class="menu-item" onclick="location.href='index.html'"><i style="font-style: normal;">🏠</i> 挂号大厅</div>
        <div class="menu-item" onclick="location.href='appointments.html'"><i style="font-style: normal;">📅</i> 我的预约</div>
        <div class="menu-item" onclick="location.href='records.html'"><i style="font-style: normal;">📝</i> 就诊记录</div>
        <div class="menu-item active" onclick="location.href='profile.html'"><i style="font-style: normal;">👤</i> 个人档案</div>
    </div>

    <!-- 主内容区 -->
    <div class="main">
        <div class="card mb-20">
            <h3 class="mb-20">基本信息</h3>
            <div class="flex-wrap">
                <div class="form-item mr-20" style="width: 45%;">
                    <label>真实姓名</label>
                    <input type="text" value="张三" disabled style="background: #f5f5f5;">
                </div>
                <div class="form-item" style="width: 45%;">
                    <label>性别</label>
                    <input type="text" value="男" disabled style="background: #f5f5f5;">
                </div>
                <div class="form-item mr-20" style="width: 45%;">
                    <label>身份证号</label>
                    <input type="text" value="110101199001011234" disabled style="background: #f5f5f5;">
                </div>
                <div class="form-item" style="width: 45%;">
                    <label>手机号</label>
                    <input type="text" value="13800138000">
                </div>
                <div class="form-item w-100">
                    <label>家庭住址</label>
                    <input type="text" value="北京市朝阳区xx街道xx小区1号楼101">
                </div>
            </div>
            <div class="text-right">
                <button class="btn btn-primary" onclick="saveProfile()">保存修改</button>
            </div>
        </div>

        <div class="card">
            <div class="flex-between mb-20">
                <h3>就诊人管理</h3>
                <button class="btn btn-primary btn-sm" onclick="addVisitor()">+ 添加就诊人</button>
            </div>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>姓名</th>
                        <th>关系</th>
                        <th>身份证号</th>
                        <th>手机号</th>
                        <th>默认就诊人</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>张三</td>
                        <td>本人</td>
                        <td>110101199001011234</td>
                        <td>13800138000</td>
                        <td><span class="label label-green">是</span></td>
                        <td>
                            <button class="btn btn-default btn-sm">编辑</button>
                            <button class="btn btn-default btn-sm ml-5" disabled>删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>李小四</td>
                        <td>子女</td>
                        <td>110101201501015678</td>
                        <td>13900139000</td>
                        <td><span class="label label-gray">否</span></td>
                        <td>
                            <button class="btn btn-default btn-sm">编辑</button>
                            <button class="btn btn-danger btn-sm ml-5" onclick="deleteVisitor(this)">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="../js/script.js"></script>
    <script>
        function saveProfile() {
            showToast('个人信息保存成功！', 'success');
        }

        function addVisitor() {
            // In a real app, this would open a modal
            const name = prompt('请输入就诊人姓名：');
            if (name) {
                showToast(`已添加就诊人：${name}`, 'success');
                // Reload or append row logic here
            }
        }

        function deleteVisitor(btn) {
            if(confirm('确定要删除该就诊人吗？')) {
                btn.closest('tr').remove();
                showToast('删除成功', 'success');
            }
        }
    </script>
</body>
</html>
