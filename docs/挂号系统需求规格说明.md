## 第一部分：项目概述与角色定义

### 1. 项目背景与目标

**1.1 背景**

当前医疗机构面临挂号难、排队时间长、资源分配不均等问题。传统现场挂号模式效率低下，患者体验差，医院管理成本高。

**1.2 目标**

构建一套医院预约挂号管理系统，实现：

- **患者端**：线上便捷预约，减少现场等待
- **医生端**：高效管理就诊流程，数字化病历管理
- **管理端**：精细化资源调度，数据驱动决策
  - 

**1.3 业务价值**

- 优化患者就医体验，缩短平均等待时间
- 提高医生工作效率，减少空诊率
- 实现医疗资源合理配置，提升运营透明度
  - 

### 2. 用户角色体系

#### 2.1 角色总览

| 角色       | 核心职责                     | 主要使用场景        |
| ---------- | ---------------------------- | ------------------- |
| **患者**   | 预约挂号、管理健康档案       | 院外（移动端/PC端） |
| **医生**   | 接诊患者、填写病历、管理排班 | 院内（工作站）      |
| **管理员** | 系统配置、用户管理、运营监控 | 管理后台            |

#### 2.2 角色权限矩阵

**患者权限域：**

- 账户管理：注册、登录、实名认证、密码重置
- 档案管理：个人基本信息、就诊人（家属）管理
- 预约服务：科室/医生查询、预约挂号、取消预约
- 记录查询：预约记录、就诊记录、病历查看
- 消息接收：预约提醒、就诊通知、系统公告
  - 

**医生权限域：**

- 工作台：今日概览、候诊队列监控
- 预约管理：查看患者预约、叫号、标记到诊/失约
- 诊疗服务：接诊、病历填写与归档
- 排班管理：查看排班、申请调班/停诊
- 个人中心：个人信息维护
  - 

**管理员****权限域：**

- 系统监控：实时数据看板、异常预警
- 用户管理：患者账户审核、医生账户管理
- 资源管理：科室管理、号源池配置
- 运营管理：放号规则设置、临时号源调整
- 数据分析：挂号统计、科室热度分析
  - 

#### 2.3 角色状态定义

**患者状态：**

- `未注册` → `待实名认证` → `已认证（正常）` → `已冻结`
- 特殊状态：`审核中`、`认证失败`
  - 

**医生状态：**

- `待激活` → `在职（正常）` → `休假中` → `已离职`
- 执业状态：`可预约`、`暂停预约`
  - 

**管理员****状态：**

- `启用` / `禁用`
- 权限分级：`超级管理员` / `运营管理员` / `审核员`
  - 

### 3. 核心业务流程（跨角色）

#### 3.1 标准预约就诊流程

```Plain
患者端：选择科室/医生 → 选择时段 → 选择就诊人 → 确认预约 → 支付挂号费 → 预约成功
                              ↓
医生端：查看预约列表 → 患者到院签到 → 医生叫号 → 接诊 → 填写病历 → 就诊完成
                              ↓
管理员端：号源释放 ← 预约数据统计 ← 就诊数据归档 ← 病历存档
```

#### 3.2 关键业务规则（初版）

**预约规则：**

- 患者最多可预约未来7天内的号源
- 同一患者同一时段只能预约一个号源
- 预约取消需在就诊前24小时完成，否则记为失约
- 累计失约3次，账户暂停预约权限30天
  - 

**号源规则：**

- 号源分为上午（8:00-12:00）、下午（14:00-17:00）、晚间（18:00-20:00）三个时段
- 每个时段按医生接诊能力划分具体时间片（如30分钟/位）
- 管理员可设置线上线下号源分配比例
  - 

**就诊规则：**

- 患者需在预约时段前15分钟完成签到
- 过号患者需重新排队或预约下一时段
- 医生可标记患者失约，失约记录计入患者信用

 好的，以下是第二部分内容：

## 第二部分：功能需求详述（患者端）

### 4. 患者端功能模块

#### 4.1 账户管理模块

##### 4.1.1 用户注册

**功能描述**：新患者创建系统账户，建立电子健康档案基础信息。

**输入要素**：

| 字段       | 类型   | 必填 | 校验规则                        |
| ---------- | ------ | ---- | ------------------------------- |
| 真实姓名   | 字符串 | 是   | 2-20位中文或英文，不含特殊符号  |
| 性别       | 枚举   | 是   | 男/女                           |
| 身份证号   | 字符串 | 是   | 18位，符合GB 11643校验规则      |
| 手机号码   | 字符串 | 是   | 11位，符合手机号段规则          |
| 短信验证码 | 字符串 | 是   | 6位数字，有效期5分钟            |
| 登录密码   | 字符串 | 是   | 8-20位，含字母+数字，区分大小写 |
| 密码确认   | 字符串 | 是   | 与登录密码一致                  |

**业务流程**：

1. 患者填写基础身份信息
2. 系统校验身份证格式及唯一性（未注册过）
3. 系统校验手机号唯一性
4. 发送短信验证码至手机
5. 验证通过后创建账户，状态置为"待实名认证"
6. 系统自动进行身份证实名核验（对接公安接口）
7. 核验通过，状态更新为"已认证"
   1. 

**异常处理**：

- 身份证已注册：提示"该身份证已存在账户，请直接登录或找回密码"
- 手机号已注册：提示"手机号已被使用"
- 实名核验失败：状态保持"认证失败"，提示人工审核入口
  - 

**输出结果**：账户创建成功，自动登录跳转至首页

##### 4.1.2 用户登录

**功能描述**：已注册患者通过身份凭证进入系统。

**输入要素**：

| 字段     | 类型   | 必填     | 说明                        |
| -------- | ------ | -------- | --------------------------- |
| 账号     | 字符串 | 是       | 支持手机号或身份证号        |
| 密码     | 字符串 | 是       | 密文输入                    |
| 验证码   | 字符串 | 条件必填 | 密码错误3次后触发图形验证码 |
| 登录方式 | 枚举   | 否       | 密码登录/短信验证码登录     |

**业务流程**：

1. 患者输入账号及凭证
2. 系统校验账号存在性及状态（未冻结）
3. 校验凭证正确性
4. 记录登录日志（时间、IP、设备）
5. 生成会话令牌，有效期30天（记住登录）或8小时（普通登录）
   1. 

**异常处理**：

- 账户不存在：提示"账号或密码错误"（模糊提示）
- 密码错误：累计错误次数，达5次锁定账户2小时
- 账户冻结：提示"账户异常，请联系客服"
  - 

**输出结果**：登录成功，进入患者首页

##### 4.1.3 密码管理

**功能描述**：密码找回与修改。

**子功能**：

| 功能     | 触发条件     | 流程                                    |
| -------- | ------------ | --------------------------------------- |
| 忘记密码 | 登录页点击   | 手机号验证 → 身份证后4位验证 → 重置密码 |
| 修改密码 | 个人中心操作 | 旧密码验证 → 新密码设置 → 确认修改      |
| 强制改密 | 系统安全策略 | 首次登录/90天未改密，强制跳转修改页     |

##### 4.1.4 实名认证管理

**功能描述**：管理患者实名状态及认证信息。

**状态流转**：

```Plain
未认证 → 提交资料 → 审核中 → 已认证
                ↓         ↓
              资料不全   认证失败（可重新提交）
```

**功能点**：

- 查看当前认证状态及有效期
- 更新身份证信息（到期前3个月提醒）
- 人工审核通道（自动核验失败时使用）
  - 

#### 4.2 就诊人管理模块

##### 4.2.1 就诊人档案管理

**功能描述**：管理本人及家庭成员的就诊档案，最多绑定5位就诊人。

**就诊人信息结构**：

| 信息类别 | 字段                               | 必填     | 用途         |
| -------- | ---------------------------------- | -------- | ------------ |
| 基础信息 | 姓名、性别、身份证号               | 是       | 身份核验     |
| 联系信息 | 手机号（可与主账户不同）           | 是       | 紧急联系     |
| 医保信息 | 医保卡号、参保地、类型             | 否       | 医保结算     |
| 健康档案 | 血型、既往病史、过敏史、家族遗传史 | 否       | 诊疗参考     |
| 关系证明 | 与主账户人关系、证件照片           | 条件必填 | 家属身份核验 |

**业务流程**：

1. 添加就诊人：输入信息 → 身份证核验 → 关系验证（家属需上传证明）→ 绑定成功
2. 编辑就诊人：仅可修改联系信息、医保信息、健康档案
3. 删除就诊人：校验无未完成的预约/未支付订单 → 确认删除
   1. 

**约束规则**：

- 就诊人身份证唯一，不可重复绑定至不同主账户
- 未成年就诊人（<18岁）需关联监护人主账户
- 就诊人预约记录归集至主账户统一管理
  - 

#### 4.3 预约挂号模块

##### 4.3.1 科室医生检索

**功能描述**：多维度查询可预约的科室及医生资源。

**检索条件**：

| 维度 | 选项                                                   | 说明           |
| ---- | ------------------------------------------------------ | -------------- |
| 科室 | 一级科室（内科/外科等）→ 二级科室（呼吸内科/消化内科） | 树形结构       |
| 医生 | 姓名模糊搜索                                           | 支持拼音首字母 |
| 职称 | 主任医师/副主任医师/主治医师/医师                      | 多选           |
| 日期 | 未来7天内任意日期                                      | 默认当日       |
| 时段 | 上午/下午/晚间                                         | 多选           |

**展示要素**：

**科室卡片**：

- 科室名称、科室简介、今日剩余号源数
- 平均候诊时长、患者评分
  - 

**医生列表项**：

- 头像、姓名、职称、所属科室
- 擅长领域标签（最多3个）
- 患者评分（1-5星）、已接诊人次
- 未来7天可约状态（绿色-可约/灰色-已满/橙色-紧张）
  - 

**排序规则**：默认按职称等级+评分降序，支持切换为按候诊时长/可约日期排序

##### 4.3.2 医生详情查看

**功能描述**：展示医生详细信息及完整排班情况。

**信息结构**：

| 区块     | 内容                             |
| -------- | -------------------------------- |
| 基本信息 | 头像、姓名、职称、科室、执业年限 |
| 专业信息 | 擅长领域、专业资质、学术任职     |
| 患者评价 | 评分分布、最新3条评价（脱敏）    |
| 排班日历 | 未来7天横向Tab切换               |
| 时段号源 | 选中日期下的具体时段及余号       |

**号源时段定义**：

| 大时段 | 时间范围    | 细分粒度                     |
| ------ | ----------- | ---------------------------- |
| 上午   | 08:00-12:00 | 30分钟/号段（如08:00-08:30） |
| 下午   | 14:00-17:00 | 30分钟/号段                  |
| 晚间   | 18:00-20:00 | 30分钟/号段                  |

**号源状态**：

- `可预约`：剩余号源>3，显示绿色
- `紧张`：剩余号源≤3，显示橙色
- `已满`：剩余号源=0，显示灰色，不可选
- `停诊`：医生临时停诊，显示灰色，标注"停诊"
  - 

##### 4.3.3 预约确认

**功能描述**：选择具体时段并确认预约信息。

**预约信息确认页要素**：

| 项目         | 来源                                | 可修改           |
| ------------ | ----------------------------------- | ---------------- |
| 就诊医生     | 从医生详情带入                      | 否（需返回重选） |
| 就诊日期     | 从排班选择带入                      | 否               |
| 就诊时段     | 从排班选择带入                      | 否               |
| 就诊人       | 下拉选择（本人/家属）               | 是               |
| 就诊卡类型   | 自费/医保（根据就诊人信息自动判断） | 是               |
| 挂号费       | 根据医生职称自动计算                | 否               |
| 医保报销预估 | 根据参保地政策计算                  | 否               |
| 实付金额     | 挂号费-医保报销                     | 否               |

**业务规则校验**：

1. 就诊人实名认证状态必须为"已认证"
2. 就诊人当前无冲突预约（同一时段不可重复预约）
3. 就诊人近30天失约次数<3次
4. 号源未被锁定或预约
   1. 

**预约提交**：

- 号源锁定：提交后锁定号源5分钟，等待支付
- 支付超时：5分钟未支付，释放号源，预约失败
- 支付成功：生成预约单，状态"待就诊"，发送确认通知
  - 

##### 4.3.4 预约单管理

**功能描述**：查看和管理历史及当前预约记录。

**预约单状态定义**：

| 状态   | 定义                     | 可操作                        |
| ------ | ------------------------ | ----------------------------- |
| 待支付 | 已提交未支付，号源锁定中 | 立即支付/取消预约             |
| 待就诊 | 已支付，等待就诊日       | 取消预约（限规则内）/查看详情 |
| 就诊中 | 患者已签到，正在候诊     | 查看排队序号                  |
| 已完成 | 医生已接诊并归档病历     | 查看病历/评价医生             |
| 已取消 | 患者主动取消或超时未支付 | 重新预约                      |
| 已失约 | 未按时就诊且未取消       | 查看失约记录/申诉             |

**列表展示字段**：预约单号、就诊人、医生、科室、就诊时间、费用、状态

**详情页信息**：

- 预约基本信息（同确认页）
- 就诊指引：科室位置、交通建议、注意事项
- 二维码：就诊签到凭证（含预约单号加密信息）
- 操作日志：预约、支付、取消等时间节点记录
  - 

##### 4.3.5 预约取消规则

**功能描述**：规范预约取消行为，保障医疗资源合理利用。

**取消规则**：

| 取消场景         | 时间限制       | 费用处理      | 信用影响    |
| ---------------- | -------------- | ------------- | ----------- |
| 主动取消（正常） | 就诊前≥24小时  | 全额退款      | 无          |
| 主动取消（紧急） | 就诊前2-24小时 | 扣除20%手续费 | 记录1次提醒 |
| 主动取消（临期） | 就诊前<2小时   | 扣除50%手续费 | 记录1次失约 |
| 未就诊未取消     | 就诊时间过后   | 不退费        | 记录1次失约 |
| 医生停诊         | 任意时间       | 全额退款      | 无          |

**退款流程**：

- 医保支付：原路退回医保账户，1-3个工作日
- 自费支付：原路退回支付账户，实时到账或1-3个工作日（视支付方式）
  - 

#### 4.4 就诊记录模块

##### 4.4.1 就诊历史查询

**功能描述**：查询已完成就诊的详细记录。

**记录内容**：

- 就诊基本信息（时间、医生、科室）
- 病历摘要（主诉、诊断）
- 处方信息（药品、用量）
- 检查检验申请单
- 费用明细
  - 

##### 4.4.2 电子病历查看

**功能描述**：查看医生填写的完整电子病历。

**病历字段**：

- 主诉、现病史、既往史、过敏史
- 体格检查、辅助检查
- 初步诊断、鉴别诊断
- 处理意见、医嘱、处方
  - 

**权限控制**：

- 患者仅可查看本人及绑定就诊人的病历
- 敏感信息（如精神类疾病）经脱敏处理
- 支持下载PDF格式病历（加盖医院电子章）
  - 

#### 4.5 消息通知模块

**功能描述**：接收系统推送的各类通知。

**消息类型**：

| 类型     | 触发条件         | 内容要点                   |
| -------- | ---------------- | -------------------------- |
| 预约成功 | 支付完成         | 就诊时间、地点、注意事项   |
| 就诊提醒 | 就诊前1天/2小时  | 次日就诊提醒/即将就诊提醒  |
| 叫号提醒 | 医生叫号前3人    | 当前排队进度，建议到院时间 |
| 停诊通知 | 医生临时停诊     | 停诊原因、改约/退费指引    |
| 报告提醒 | 检验检查报告出具 | 报告查看链接               |
| 系统公告 | 医院发布         | 门诊时间调整、新科室开设等 |

**推送渠道**：APP推送（首选）、短信（备用）、微信服务号（如绑定）

#### 4.6 个人中心模块

##### 4.6.1 个人信息维护

**可修改项**：手机号、联系地址、紧急联系人

**不可修改项**：姓名、身份证号（需通过客服修改）

##### 4.6.2 安全设置

- 登录密码修改
- 手势/指纹登录设置（移动端）
- 登录设备管理（查看/下线设备）
  - 

##### 4.6.3 意见反馈

- 问题类型选择（功能异常、流程建议、投诉）
- 描述文本及图片上传
- 反馈进度查询
  - 

  好的，以下是第三部分内容：

## 第三部分：功能需求详述（医生端）

### 5. 医生端功能模块

#### 5.1 工作台模块

##### 5.1.1 今日概览

**功能描述**：展示医生当日工作关键指标及待办事项。

**数据****看板****要素**：

| 指标         | 计算规则                       | 更新频率     |
| ------------ | ------------------------------ | ------------ |
| 今日预约总数 | 当日所有时段预约单合计         | 实时         |
| 待接诊数     | 状态为"待就诊"且已签到的患者数 | 实时         |
| 已完成数     | 当日已归档病历数               | 实时         |
| 当前候诊人数 | 候诊队列中未叫号人数           | 实时（秒级） |
| 过号人数     | 叫号后未响应，需重新排队人数   | 实时         |

**今日排班卡片**：

- 出诊时段（上午/下午/晚间）
- 各时段预约人数/号源上限
- 当前时段状态：`进行中`/`未开始`/`已结束`
  - 

**快捷操作入口**：

- 开始叫号（进入候诊队列管理）
- 查看预约列表（跳转预约管理）
- 填写病历（最近接诊患者快捷入口）
  - 

##### 5.1.2 候诊队列管理

**功能描述**：实时管理当日就诊患者的排队叫号流程。

**队列数据结构**：

| 字段       | 说明                                 |
| ---------- | ------------------------------------ |
| 排队序号   | 按签到时间顺序生成，支持过号插队规则 |
| 患者姓名   | 脱敏显示（张*三）                    |
| 就诊人类型 | 本人/家属（显示关系）                |
| 预约时段   | 患者预约的原始时段                   |
| 签到时间   | 实际到院签到时间                     |
| 候诊时长   | 从签到到当前时长                     |
| 状态       | 候诊中/已叫号/就诊中/已过号/已完成   |

**叫号流程**：

```Plain
医生点击"叫号" → 系统语音播报"请XX号患者到X诊室就诊" 
                → 屏幕显示患者姓名及排队序号
                → 患者端推送叫号提醒
                → 医生工作台标记"就诊中"
                → 患者进入诊室，医生开始接诊
```

**队列操作**：

| 操作     | 触发条件                            | 业务规则                   |
| -------- | ----------------------------------- | -------------------------- |
| 叫号     | 医生主动点击/系统自动叫号（可配置） | 按序号叫号，跳过已过号患者 |
| 重叫     | 患者未响应                          | 30秒后可重叫，最多3次      |
| 标记过号 | 叫号后患者未在90秒内到诊            | 患者移至队尾，记录过号1次  |
| 优先插队 | 急诊/特殊患者                       | 需管理员授权，记录插队原因 |
| 手动调整 | 患者现场协调                        | 医生权限内可调整3人次/日   |

**异常处理**：

- 患者过号3次：自动取消当日预约，记失约1次
- 医生临时离开：暂停叫号，保留队列状态
- 系统故障：切换至手工纸质排队，恢复后同步状态
  - 

#### 5.2 预约管理模块

##### 5.2.1 预约列表查询

**功能描述**：查看未来7天内所有患者的预约详情。

**筛选条件**：

- 日期范围：今日/未来7天/自定义
- 时段：上午/下午/晚间
- 状态：全部/待就诊/已签到/就诊中/已完成/失约/已取消
- 患者检索：姓名/手机号/预约单号
  - 

**列表字段**：

- 预约单号、患者姓名（脱敏）、就诊人关系、预约时段、挂号类型、费用、状态、操作按钮
  - 

##### 5.2.2 预约状态操作

| 操作     | 适用状态           | 功能说明                                   |
| -------- | ------------------ | ------------------------------------------ |
| 确认到诊 | 待就诊             | 患者现场签到后，医生确认（或系统自动确认） |
| 标记失约 | 待就诊（时段结束） | 患者未按时就诊，记录失约                   |
| 取消预约 | 待就诊             | 医生因故无法接诊，需填写取消原因           |
| 改约     | 待就诊             | 协商后调整至其他时段，原预约取消，新建预约 |
| 查看详情 | 任意状态           | 查看患者档案、历史病历、本次预约信息       |

**医生取消预约规则**：

- 需提前2小时操作（紧急情况除外）
- 必须填写取消原因（患者原因/医生原因/系统原因）
- 自动触发患者通知，推荐改约方案
- 医生当日取消超过3次，需向管理员报备
  - 

#### 5.3 诊疗服务模块

##### 5.3.1 接诊流程

**功能描述**：完成从患者进入诊室到病历归档的全流程。

**接诊步骤**：

```Plain
1. 患者到诊确认
   - 核对患者身份信息（预约二维码/身份证）
   - 确认就诊人（本人/家属）
   - 查看患者历史就诊摘要

2. 病情沟通
   - 患者主诉确认
   - 查阅历史病历、过敏史、用药史
   - 必要时调阅检查检验历史数据

3. 病历填写（详见5.3.2）

4. 处置决策
   - 开具处方/检查/检验申请
   - 建议住院/转诊/复诊
   - 健康教育指导

5. 就诊完成
   - 患者确认病历信息
   - 医生提交归档
   - 系统自动生成电子病历PDF
   - 推送缴费/取药/检查指引给患者
```

##### 5.3.2 电子病历填写

**功能描述**：结构化录入患者就诊信息，生成标准化电子病历。

**病历结构**（符合《电子病历基本规范》）：

| 区块     | 字段                         | 必填     | 输入方式                     |
| -------- | ---------------------------- | -------- | ---------------------------- |
| 基本信息 | 姓名、性别、年龄、身份证号   | 自动带入 | 只读                         |
| 主诉     | 患者主要症状及持续时间       | 是       | 文本输入，支持常用语快捷选择 |
| 现病史   | 本次疾病发生、发展、诊疗经过 | 是       | 富文本编辑                   |
| 既往史   | 既往健康状况、疾病史、手术史 | 否       | 结构化选择+文本补充          |
| 个人史   | 烟酒嗜好、职业暴露等         | 否       | 结构化表单                   |
| 家族史   | 家族遗传病史                 | 否       | 结构化选择                   |
| 过敏史   | 药物/食物/其他过敏           | 否       | 自动带入患者档案，可修改     |
| 体格检查 | 生命体征、系统查体           | 是       | 模板化录入，异常项标记       |
| 辅助检查 | 已做的检验检查结果           | 否       | 关联本院检查数据/外院录入    |
| 初步诊断 | 疾病名称（ICD-10编码）       | 是       | 诊断助记码搜索，支持模糊匹配 |
| 鉴别诊断 | 需排除的其他疾病             | 否       | 同初步诊断                   |
| 处理意见 | 治疗方案、用药、生活指导     | 是       | 富文本+处方关联              |
| 医嘱     | 用药医嘱、护理医嘱           | 条件必填 | 处方系统自动生成             |

**智能辅助功能**：

- **诊断助手**：输入症状关键词，推荐可能诊断（供参考，不强制）
- **模板库**：按科室/病种预设病历模板，一键填充后修改
- **历史病历引用**：快速复制上次就诊病历，标记变更处
- **质控提醒**：必填项未填、诊断与症状不符等实时提示
  - 

**病历状态**：

- `草稿`：暂存，未提交，仅医生可见
- `待确认`：已填写，待患者确认（如设置患者确认环节）
- `已归档`：提交完成，不可修改，患者端可见
  - 

**修改规则**：

- 归档后24小时内，医生可申请修改（需填写修改原因，保留修改痕迹）
- 超过24小时，需管理员授权修改
  - 

##### 5.3.3 处方开具

**功能描述**：电子化开具药品处方，对接药房系统。

**处方类型**：

- 西药处方
- 中药处方
- 中成药处方
  - 

**处方字段**：

| 字段     | 说明                                   |
| -------- | -------------------------------------- |
| 药品名称 | 从医院药品目录选择，含库存实时查询     |
| 规格     | 自动带入，可切换（如0.5g/片 vs 1g/片） |
| 用法用量 | 频次（每日几次）、单次剂量、用药时间   |
| 疗程     | 天数/总量                              |
| 备注     | 特殊用药指导（如饭后服用、皮试等）     |
| 皮试标志 | 需皮试药品自动提醒                     |

**处方规则校验**：

- 药品库存充足性检查
- 过敏史冲突检查（与患者过敏史比对）
- 重复用药检查（与患者当前用药比对）
- 剂量范围检查（成人/儿童剂量上限）
- 配伍禁忌检查（药品间相互作用）
- 医保限制检查（超说明书用药提醒）
  - 

**处方状态**：

- `待缴费`：患者未支付，可撤销修改
- `已缴费`：患者已支付，传送至药房
- `已发药`：药房已配药核对
- `已退药`：患者退药，处方作废
  - 

#### 5.4 排班管理模块

##### 5.4.1 个人排班查看

**功能描述**：查看本人的出班安排。

**视图模式**：

- 月视图：整月排班概览，标注已预约人数
- 周视图：详细时段展示
- 日视图：具体预约患者列表入口
  - 

**排班信息**：

- 出诊日期、时段（上午/下午/晚间）
- 号源数量（总号源/已预约/剩余）
- 排班状态：`正常出诊`/`已申请停诊`/`已停诊`/`已换班`
  - 

##### 5.4.2 排班申请

**功能描述**：申请新增排班、调班或停诊。

**申请类型**：

| 类型     | 适用场景               | 审批流程                     |
| -------- | ---------------------- | ---------------------------- |
| 新增排班 | 加班/替班              | 提交→科室主任审批→管理员确认 |
| 调班申请 | 与其他医生调换时段     | 双方确认→科室主任审批        |
| 停诊申请 | 临时有事/病假/学术会议 | 提交→科室主任审批→管理员确认 |
| 限号申请 | 减少某时段号源         | 提交→科室主任审批            |

**申请时效**：

- 常规申请：提前3个工作日提交
- 紧急停诊：提前24小时（突发情况需电话报备管理员）
  - 

**患者影响处理**：

- 停诊获批后，系统自动通知已预约患者
- 提供改约/退费选项，优先推荐同科室其他医生
- 医生需在24小时内协助完成患者转移
  - 

#### 5.5 个人中心模块

##### 5.5.1 医生档案维护

**可维护信息**：

- 个人简介（擅长领域、学术成果）
- 出诊介绍（患者可见的通俗化描述）
- 学术任职、获奖情况
- 个人照片（用于患者端展示）
  - 

##### 5.5.2 工作统计

**统计维度**：

- 接诊量统计（日/周/月/年）
- 患者满意度评分趋势
- 病历书写质量评分（管理员审核）
- 平均接诊时长
- 处方点评结果
  - 

##### 5.5.3 消息中心

接收类型：

- 排班审批结果通知
- 患者预约/取消提醒
- 系统公告、培训通知
- 病历质控反馈
  - 

### 6. 医生端特殊业务规则

#### 6.1 接诊时长管理

| 医生职称   | 建议接诊时长 | 系统预警阈值         |
| ---------- | ------------ | -------------------- |
| 主任医师   | 15-20分钟    | 单患者超过30分钟提醒 |
| 副主任医师 | 10-15分钟    | 单患者超过25分钟提醒 |
| 主治医师   | 8-12分钟     | 单患者超过20分钟提醒 |
| 医师       | 5-10分钟     | 单患者超过15分钟提醒 |

**超时处理**：系统仅提醒，不强制结束，医生需自行调整节奏

#### 6.2 加号管理

- 医生可在当日号源满额后申请加号，需管理员授权
- 加号患者排队于正常预约患者之后
- 单日加号不超过5个，避免过度疲劳
  - 

#### 6.3 会诊申请

- 医生可发起多学科会诊申请
- 选择会诊科室、会诊医生、会诊时间
- 系统自动通知相关医生，协调时间
  - 

  好的，以下是第四部分内容：

## 第四部分：功能需求详述（管理员端）

### 7. 管理员端功能模块

#### 7.1 综合监控模块

##### 7.1.1 运营数据大屏

**功能描述**：实时展示医院预约挂号业务核心指标，支持数据下钻分析。

**监控指标体系**：

| 指标类别     | 具体指标           | 计算规则                      | 更新频率      |
| ------------ | ------------------ | ----------------------------- | ------------- |
| **实时挂号** | 今日累计挂号数     | 当日00:00至今所有成功预约     | 实时          |
|              | 当前在院人次       | 已签到未离院患者数            | 实时（5分钟） |
|              | 各科室实时候诊人数 | 分科室统计候诊队列长度        | 实时          |
| **趋势分析** | 近7日挂号量趋势    | 每日成功预约数时间序列        | 每日更新      |
|              | 时段分布热力图     | 24小时挂号量分布              | 实时          |
| **资源利用** | 医生出诊率         | 实际出诊人次数/计划出诊人次数 | 每日          |
|              | 号源利用率         | 实际预约数/总号源数           | 实时          |
|              | 平均候诊时长       | 签到至叫号平均等待时间        | 实时          |
| **服务质量** | 患者满意度         | 近7天就诊评价平均分           | 每日          |
|              | 投诉率             | 投诉次数/总就诊人次           | 每日          |
|              | 失约率             | 失约人次/总预约人次           | 每日          |

**预警****看板**：

| 预警类型     | 触发条件                             | 响应动作               |
| ------------ | ------------------------------------ | ---------------------- |
| 号源紧张预警 | 某科室未来3天号源利用率>90%          | 高亮显示，建议临时加号 |
| 候诊拥堵预警 | 某科室平均候诊时长>60分钟            | 推送科室主任，建议分流 |
| 医生停诊预警 | 当日停诊医生数>3人或某科室停诊率>30% | 紧急通知，启动应急预案 |
| 恶意刷号预警 | 同一IP/设备短时间内高频预约          | 自动封禁，人工复核     |
| 系统异常预警 | 预约成功率骤降/支付异常              | 技术告警，运维介入     |

##### 7.1.2 恶意行为监控

**功能描述**：识别并处置违规预约行为，保障公平就医环境。

**监控维度**：

| 维度     | 风险行为           | 识别规则                    |
| -------- | ------------------ | --------------------------- |
| IP地址   | 批量注册、高频预约 | 同一IP日预约>10次或注册>5次 |
| 设备指纹 | 模拟器、多开软件   | 设备环境异常检测            |
| 手机号   | 虚拟号段、批量号段 | 对接运营商实名核验          |
| 身份证号 | 伪造证件、冒用他人 | 公安接口核验失败            |
| 行为模式 | 秒级操作、固定路径 | 机器学习异常检测模型        |

**处置措施**：

| 风险等级 | 处置方式                        | 人工复核   |
| -------- | ------------------------------- | ---------- |
| 低风险   | 记录日志，标记观察              | 否         |
| 中风险   | 限制预约频率（验证码/冷却时间） | 抽样复核   |
| 高风险   | 冻结账户/封禁IP，禁止预约       | 必须复核   |
| 确认违规 | 永久封禁，列入黑名单            | 已复核确认 |

#### 7.2 用户管理模块

##### 7.2.1 患者账户管理

**功能描述**：管理患者账户全生命周期，处理异常账户。

**管理功能**：

| 功能       | 操作内容                 | 业务规则                 |
| ---------- | ------------------------ | ------------------------ |
| 账户查询   | 按姓名/身份证/手机号检索 | 支持模糊查询，脱敏显示   |
| 状态管理   | 启用/禁用/冻结/解冻      | 冻结需填写原因，通知患者 |
| 实名审核   | 人工审核认证失败案例     | 上传证件照人工比对       |
| 信用管理   | 查看失约记录，调整信用分 | 信用分影响预约优先级     |
| 预约代操作 | 协助老年患者电话预约     | 记录操作日志，双确认机制 |
| 账户合并   | 身份证重复注册合并       | 保留主账户，迁移历史数据 |

**批量操作**：

- 批量导入患者（体检/团体预约场景）
- 批量通知（系统升级、政策变更）
- 批量信用修复（疫情等特殊时期失约豁免）
  - 

##### 7.2.2 医生账户管理

**功能描述**：维护医生基础信息，管理执业状态。

**医生档案信息**：

| 信息类别 | 字段                           | 管理权限               |
| -------- | ------------------------------ | ---------------------- |
| 基础信息 | 姓名、性别、出生日期、身份证号 | 只读（HR系统同步）     |
| 执业信息 | 执业证号、资格证号、执业范围   | 可维护，需上传证件     |
| 职务信息 | 职称、科室、行政职务           | 可调整，记录变更历史   |
| 出诊信息 | 默认出诊时段、擅长领域         | 医生可申请，管理员审核 |
| 账户状态 | 在职/休假/离职                 | 管理员控制             |
| 系统权限 | 角色权限组分配                 | 管理员配置             |

**医生入职流程**：

```Plain
HR系统推送入职信息 → 管理员创建账户 → 医生首次登录激活 
→ 上传执业证件 → 管理员审核 → 开通预约权限 → 加入号源池
```

**医生离职流程**：

```Plain
收到离职申请 → 冻结新预约权限 → 处理未完成预约（改约/退费）
→ 确认无在诊患者 → 归档历史数据 → 关闭账户
```

##### 7.2.3 管理员账户管理

**功能描述**：管理系统后台操作人员权限。

**角色权限体系**：

| 角色       | 权限范围                               | 适用岗位   |
| ---------- | -------------------------------------- | ---------- |
| 超级管理员 | 全部功能，包括系统配置、其他管理员管理 | 信息科主任 |
| 运营管理员 | 号源管理、数据统计、患者服务           | 运营主管   |
| 审核管理员 | 医生资质审核、患者实名审核             | 医务科人员 |
| 客服管理员 | 患者投诉处理、预约代操作               | 客服主管   |
| 只读管理员 | 查看所有数据，无操作权限               | 审计/领导  |

**权限控制原则**：

- 最小权限原则：仅授予完成工作所需的最小权限
- 职责分离：关键操作需双人复核（如批量封禁账户）
- 操作审计：所有管理操作记录完整日志，保留180天
  - 

#### 7.3 资源管理模块

##### 7.3.1 科室管理

**功能描述**：维护医院科室架构，配置科室属性。

**科室信息结构**：

| 字段     | 说明                               |
| -------- | ---------------------------------- |
| 科室编码 | 院内HIS系统编码，唯一标识          |
| 科室名称 | 标准名称（如"呼吸内科"）           |
| 科室简称 | 患者端显示（如"呼吸科"）           |
| 科室类型 | 门诊/急诊/住院/医技                |
| 上级科室 | 树形结构（如"内科"下含"呼吸内科"） |
| 科室位置 | 楼层、诊室号、导航坐标             |
| 联系电话 | 分诊台/护士站电话                  |
| 服务时间 | 常规出诊时段                       |
| 科室简介 | 患者端展示的疾病诊疗范围           |
| 状态     | 启用/停用                          |

**科室调整影响**：

- 停用科室：不再显示在患者端，已预约患者需转移
- 合并科室：历史数据归并，医生归属调整
- 新增科室：配置号源池，分配医生，设置排班模板
  - 

##### 7.3.2 号源池管理

**功能描述**：核心资源调度模块，管理所有可预约号源的生成、分配与调整。

**号源生成规则**：

| 配置项       | 说明                     | 示例                              |
| ------------ | ------------------------ | --------------------------------- |
| 放号周期     | 提前多少天释放号源       | 7天（今日可约未来7天）            |
| 放号时间     | 每日几点开放新号源       | 07:00（释放第7天的号源）          |
| 号源分配比例 | 线上预约 vs 现场挂号     | 70% : 30%                         |
| 医生号源基数 | 各职称医生默认号源数     | 主任医师20个/半日，副主任医师25个 |
| 时段划分     | 上午/下午/晚间的时段切分 | 每30分钟一个号段                  |

**号源调整操作**：

| 操作     | 场景                      | 规则                               |
| -------- | ------------------------- | ---------------------------------- |
| 临时加号 | 某时段需求激增            | 在总号源上限内增加，不超过医生负荷 |
| 批量锁号 | 医生临时学术会议/系统维护 | 锁定后不可预约，已预约患者需转移   |
| 批量放号 | 节假日加班/医生增援       | 释放预留号源或新增号源             |
| 号源转移 | A医生停诊，B医生替诊      | 患者自动转移，通知确认             |
| 绿色通道 | 急诊预留、老干部预约      | 预留特定时段，特定人群可见         |

**号源池状态监控**：

- 实时显示各科室未来7天号源分布热力图
- 标记号源紧张日期（利用率>80%）
- 推荐号源调整建议（基于历史预约数据预测）
  - 

##### 7.3.3 排班统筹管理

**功能描述**： override医生个人申请，进行全院排班统筹。

**排班视图**：

- 按科室展示医生排班日历
- 拖拽调整医生时段
- 冲突检测（同一医生重叠时段、诊室冲突）
  - 

**批量排班**：

- 模板复制：复制上周排班，微调后生成本周排班
- 循环排班：设置固定出诊规律（如每周一三五上午），自动生成
  - 

**排班审批**：

- 医生提交的调班/停诊申请集中审批
- 批量通过/驳回，填写审批意见
- 紧急情况下，管理员可直接调整排班并通知医生
  - 

#### 7.4 运营管理模块

##### 7.4.1 公告与内容管理

**功能描述**：发布系统公告、医生介绍、就医指南等内容。

**内容类型**：

| 类型     | 发布位置          | 管理功能                 |
| -------- | ----------------- | ------------------------ |
| 系统公告 | 登录弹窗/首页轮播 | 定时发布、置顶、撤回     |
| 医生介绍 | 医生详情页        | 医生自主编辑，管理员审核 |
| 科室介绍 | 科室导航页        | 图文编辑、视频上传       |
| 就医指南 | 帮助中心          | 分类管理、FAQ配置        |
| 停诊通知 | 首页公告/推送     | 关联医生排班，自动触发   |

##### 7.4.2 评价管理

**功能描述**：管理患者对医生的评价，处理投诉。

**评价流程**：

```Plain
就诊完成 → 患者收到评价邀请（APP/短信） → 匿名提交评价 
→ 系统敏感词过滤 → 医生可见评价内容 → 管理员审核异常评价
```

**评价维度**：

- 整体满意度（1-5星）
- 分项评分：服务态度、专业水平、等候时间、环境设施
- 文字评价（可选）
- 是否推荐（是/否）
  - 

**投诉处理**：

- 投诉分类：服务态度、医疗质量、预约流程、费用问题、其他
- 处理流程：受理 → 调查 → 反馈患者 → 整改 → 结案
- 升级机制：重大投诉自动上报医务科/院办
  - 

#### 7.5 数据统计模块

##### 7.5.1 业务报表

**标准报表清单**：

| 报表名称       | 统计维度                  | 输出格式       |
| -------------- | ------------------------- | -------------- |
| 挂号量日报     | 科室/医生/时段            | Excel/PDF      |
| 收入统计月报   | 挂号费/诊查费，线上/线下  | Excel/PDF      |
| 医生工作量统计 | 接诊量/接诊时长/取消率    | Excel/PDF      |
| 患者流量分析   | 新患者/复诊患者，地域分布 | Excel/PDF/图表 |
| 失约分析报表   | 失约率趋势，失约原因分布  | Excel/PDF      |
| 预约渠道分析   | APP/小程序/电话/现场占比  | Excel/PDF      |

**自定义报表**：

- 拖拽选择统计字段
- 设置筛选条件、分组维度
- 保存报表模板，定时自动生成并邮件推送
  - 

##### 7.5.2 数据导出与接口

**数据导出**：

- 敏感数据脱敏（患者姓名、手机号等）
- 导出权限控制（需审批）
- 导出日志记录（时间、操作人、数据范围）
  - 

**数据接口**：

- 与HIS系统对接：患者信息、就诊记录、收费数据同步
- 与医保系统对接：医保结算、报销比例查询
- 与区域卫生平台对接：电子健康档案上传、跨院预约
  - 

### 8. 系统配置与运维

#### 8.1 参数配置

| 配置类别 | 具体参数                         | 说明     |
| -------- | -------------------------------- | -------- |
| 预约规则 | 提前预约天数、取消时限、失约上限 | 全局生效 |
| 支付配置 | 支付方式、退款时限、手续费规则   | 财务相关 |
| 通知配置 | 短信模板、推送频率、免打扰时段   | 消息相关 |
| 安全策略 | 密码强度、登录失败锁定、会话超时 | 安全相关 |

#### 8.2 日志管理

- 操作日志：所有用户关键操作记录
- 系统日志：技术异常、接口调用记录
- 审计日志：管理员操作、数据变更记录
- 保留策略：在线保留90天，归档保留3年
  - 

  好的，以下是第五部分内容：

## 第五部分：非功能需求与附录

### 9. 非功能需求

#### 9.1 性能需求

| 指标         | 目标值                    | 测试场景               |
| ------------ | ------------------------- | ---------------------- |
| 页面加载时间 | 首屏≤2秒，完整加载≤5秒    | 患者端首页，4G网络环境 |
| 并发处理能力 | 支持5000人同时在线预约    | 放号高峰期（早7:00）   |
| 预约响应时间 | 从点击到结果返回≤3秒      | 正常网络条件下         |
| 支付成功率   | ≥99.9%                    | 日均支付笔数峰值       |
| 系统可用性   | ≥99.9%（年停机<8.76小时） | 全年7×24小时监控       |
| 数据恢复时间 | RTO≤4小时，RPO≤30分钟     | 灾难恢复演练           |

**性能优化策略**：

- 号源数据缓存：热点号源Redis缓存，减少数据库压力
- 限流机制：放号瞬间限流，防止系统过载
- 异步处理：短信发送、消息推送异步化
- 数据库读写分离：查询操作走从库，写入走主库
  - 

#### 9.2 安全需求

##### 9.2.1 数据安全

| 数据类别     | 保护措施                        | 合规要求                               |
| ------------ | ------------------------------- | -------------------------------------- |
| 患者身份信息 | 加密存储（AES-256），传输TLS1.3 | 《个人信息保护法》                     |
| 病历信息     | 分级加密，访问审计              | 《电子病历应用管理规范》               |
| 支付信息     | PCI DSS合规，不存储CVV          | 《非银行支付机构网络支付业务管理办法》 |
| 医生执业信息 | 数字签名防篡改                  | 《医师执业注册管理办法》               |

**安全防护措施**：

- 敏感数据脱敏展示（患者端手机号138****1234）
- 数据库定期全量备份+实时增量备份
- 敏感操作二次认证（管理员修改关键配置需短信验证）
- 数据导出审批+水印追踪
  - 

##### 9.2.2 应用安全

| 威胁类型 | 防护措施                         |
| -------- | -------------------------------- |
| SQL注入  | 参数化查询，ORM框架              |
| XSS攻击  | 输入过滤，输出编码，CSP策略      |
| CSRF攻击 | Token验证，SameSite Cookie       |
| 暴力破解 | 登录失败锁定，验证码，IP限流     |
| 会话劫持 | HTTPS强制，短时效Token，设备绑定 |

##### 9.2.3 业务安全

- **防黄牛**：设备指纹+行为分析+人脸识别（高风险操作）
- **防刷单**：预约后需就诊完成才计为有效，异常模式监测
- **防篡改**：关键数据（病历、处方）数字签名，修改留痕
  - 

#### 9.3 可靠性需求

**故障分级与响应**：

| 级别    | 故障现象                          | 响应时间 | 解决时限 |
| ------- | --------------------------------- | -------- | -------- |
| P0-紧急 | 系统完全不可用，所有预约中断      | 5分钟    | 2小时    |
| P1-严重 | 核心功能受损（支付失败/无法挂号） | 15分钟   | 4小时    |
| P2-一般 | 非核心功能异常（统计报表延迟）    | 1小时    | 24小时   |
| P3-轻微 | 界面显示问题，不影响使用          | 4小时    | 72小时   |

**容灾备份**：

- 同城双活：生产环境+同城灾备，实时同步
- 异地备份：每日全量数据异地存储
- 故障切换：自动故障检测，分钟级切换
  - 

#### 9.4 易用性需求

| 用户群体          | 特殊需求             | 解决方案                           |
| ----------------- | -------------------- | ---------------------------------- |
| 老年患者（>60岁） | 视力不佳，操作不熟练 | 大字体模式、语音辅助、一键求助电话 |
| 视障患者          | 无法阅读屏幕         | 读屏软件兼容、无障碍通道预约       |
| 急诊患者          | 需快速找到急诊入口   | 首页显著位置急诊快捷入口           |
| 医生（工作场景）  | 需快速操作，避免误触 | 快捷键支持、操作确认二次确认       |
| 管理员（多任务）  | 需同时监控多个指标   | 多窗口支持、自定义看板布局         |

**界面一致性**：

- 统一设计规范：色彩、字体、按钮样式、提示方式
- 操作反馈：所有操作3秒内给出明确反馈（加载动画/成功提示/错误提示）
- 帮助体系：每个页面提供上下文帮助入口，关键流程提供操作引导
  - 

#### 9.5 可维护性需求

| 方面     | 要求                                    |
| -------- | --------------------------------------- |
| 代码规范 | 遵循Java/SQL编码规范，SonarQube质量门禁 |
| 文档完整 | API文档、数据库设计文档、部署手册齐全   |
| 监控告警 | 全链路监控（APM），关键指标自动告警     |
| 日志规范 | 结构化日志，支持ELK检索，保留180天      |
| 灰度发布 | 支持按用户/地域/流量比例灰度，快速回滚  |

#### 9.6 兼容性需求

| 维度       | 要求                                           |
| ---------- | ---------------------------------------------- |
| 浏览器     | Chrome 90+、Firefox 88+、Safari 14+、Edge 90+  |
| 移动端     | iOS 13+、Android 9+，响应式布局适配            |
| 分辨率     | 桌面端最低1280×720，推荐1920×1080              |
| 第三方接口 | 兼容主流支付渠道（微信/支付宝/银联）、医保接口 |

#### 9.7 法规与合规需求

| 法规                 | 适用条款               | 系统措施                   |
| -------------------- | ---------------------- | -------------------------- |
| 《网络安全法》       | 等级保护要求           | 三级等保认证               |
| 《数据安全法》       | 数据分类分级           | 数据资产目录，分级保护策略 |
| 《个人信息保护法》   | 最小必要原则、知情同意 | 隐私政策明示，授权管理     |
| 《电子签名法》       | 可靠电子签名           | 病历、处方CA数字签名       |
| 《医疗机构管理条例》 | 诊疗规范               | 病历书写质控，诊疗流程合规 |

### 10. 附录

#### 附录A：术语表

| 术语     | 英文                        | 定义                                     |
| -------- | --------------------------- | ---------------------------------------- |
| 号源     | Appointment Slot            | 特定医生在特定时段的可预约名额           |
| 失约     | No-Show                     | 患者预约后未按时就诊且未取消             |
| 加号     | Extra Slot                  | 在常规号源满额后额外增加的预约名额       |
| 分诊     | Triage                      | 根据患者病情轻重缓急安排就诊优先级       |
| 电子病历 | EMR                         | 电子化记录患者诊疗全过程的医疗文书       |
| HIS      | Hospital Information System | 医院信息系统，通常指核心管理系统         |
| RTO      | Recovery Time Objective     | 恢复时间目标，灾难发生后恢复服务所需时间 |
| RPO      | Recovery Point Objective    | 恢复点目标，灾难发生后可接受的数据丢失量 |

#### 附录B：业务流程图（文字描述）

**B.1 标准预约流程**

```Plain
开始 → 患者登录 → 选择科室/医生 → 选择日期时段 
→ 选择就诊人 → 确认信息 → 支付挂号费 → 预约成功 
→ 发送确认通知 → 就诊前提醒 → 患者签到 → 医生叫号 
→ 接诊 → 填写病历 → 就诊完成 → 评价/缴费取药 → 结束
```

**B.2 异常处理流程**

```Plain
预约失败：库存不足/支付失败 → 提示原因 → 返回重试/取消
取消预约：判断时间规则 → 计算退款 → 释放号源 → 通知医生
医生停诊：审批通过 → 通知患者 → 改约/退费 → 归档记录
```

#### 附录C：数据字典（核心实体）

**C.1 患者表（Patient）**

| 字段          | 类型         | 说明                         |
| ------------- | ------------ | ---------------------------- |
| patient_id    | VARCHAR(32)  | 主键，唯一标识               |
| id_card       | VARCHAR(18)  | 身份证号，加密存储，唯一索引 |
| name          | VARCHAR(50)  | 真实姓名                     |
| phone         | VARCHAR(11)  | 手机号，加密存储             |
| password_hash | VARCHAR(256) | 密码哈希（BCrypt）           |
| status        | TINYINT      | 0-未认证 1-已认证 2-冻结     |
| create_time   | DATETIME     | 注册时间                     |

**C.2 预约单表（Appointment）**

| 字段             | 类型          | 说明                                                |
| ---------------- | ------------- | --------------------------------------------------- |
| appointment_id   | VARCHAR(32)   | 主键，业务单号                                      |
| patient_id       | VARCHAR(32)   | 患者ID，外键                                        |
| doctor_id        | VARCHAR(32)   | 医生ID，外键                                        |
| schedule_id      | VARCHAR(32)   | 排班ID，外键                                        |
| appointment_date | DATE          | 预约就诊日期                                        |
| time_slot        | VARCHAR(20)   | 时段（如"08:00-08:30"）                             |
| status           | TINYINT       | 0-待支付 1-待就诊 2-就诊中 3-已完成 4-已取消 5-失约 |
| fee              | DECIMAL(10,2) | 挂号费                                              |
| pay_status       | TINYINT       | 0-未支付 1-已支付 2-已退款                          |
| create_time      | DATETIME      | 预约创建时间                                        |

**C.3 医生排班表（Schedule）**

| 字段         | 类型        | 说明                 |
| ------------ | ----------- | -------------------- |
| schedule_id  | VARCHAR(32) | 主键                 |
| doctor_id    | VARCHAR(32) | 医生ID，外键         |
| work_date    | DATE        | 出诊日期             |
| period       | TINYINT     | 1-上午 2-下午 3-晚间 |
| start_time   | TIME        | 时段开始时间         |
| end_time     | TIME        | 时段结束时间         |
| total_slots  | INT         | 总号源数             |
| booked_slots | INT         | 已预约数             |
| status       | TINYINT     | 0-正常 1-停诊 2-已满 |

#### 附录D：修订记录

| 版本 | 日期       | 修订内容               | 作者 |
| ---- | ---------- | ---------------------- | ---- |
| V1.0 | 2026-02-27 | 初始版本，完成全部章节 | -    |